import{a as Ni,b as Vi}from"./chunk-HLLI7ISJ.js";import{b as Li}from"./chunk-7TH4NNSA.js";import{b as zi}from"./chunk-3ESK2XNE.js";import{b as ji}from"./chunk-6FC2SBBV.js";import{a as kt}from"./chunk-7RWCIHFI.js";import{b as ei,c as He,d as ti,e as ii}from"./chunk-XQDVAP6X.js";import{a as me}from"./chunk-JJYK6XMU.js";import{a as Si,b as xi,c as ki,d as wi,e as Pi,f as Oi,g as Mi,h as Ei,i as Ai,j as Fi,k as Ie,l as Ii,m as Ti,n as Qe,o as Di,p as Ri}from"./chunk-TMI2L7TV.js";import{b as Bi,c as Wi}from"./chunk-DFB7EGM7.js";import{a as pi,b as ci,c as di,e as mi,f as ui,g as hi,h as Ee,j as _i,k as fi,l as gi,m as Ae,n as Fe,o as vi,q as bi,r as yi,s as Ci}from"./chunk-DERFXW54.js";import{a as Pt,b as Ot,d as S,e as Mt,g as Et,h as At,j as We,k as Ft,l as It,m as Tt,n as Dt,o as Rt,p as zt,r as Lt,s as Nt,t as Vt}from"./chunk-HBLQJYI7.js";import{a as ae,b as oi,c as ni,d as ri,e as ai,f as si,g as li}from"./chunk-ACJFTGJR.js";import{A as Oe,C as qt,D as Kt,E as Ut,J as Me,M as Yt,b as xe,c as ke,d as wt,g as Bt,i as Wt,j as jt,q as we,r as re,s as $t,t as Ht,u as je,v as Pe,x as Qt,y as Gt}from"./chunk-VB5AKFTQ.js";import{a as $i}from"./chunk-VQRAC7UO.js";import{a as Zt}from"./chunk-AUOK72YZ.js";import{g as Ce,m as Se,n as xt}from"./chunk-4ZDK5ED3.js";import{I as Xt,P as Jt,Q as $e,f as Be,g as bt,h as yt,r as Ct,t as St}from"./chunk-GAFZRVCH.js";import{$a as ge,$b as E,A as j,Aa as mt,B as nt,Da as _e,Ea as y,Eb as F,Ec as K,F as rt,Fa as C,Fb as ie,Gb as I,Gc as Ve,H as he,Hc as oe,I as $,Ia as Ne,Ib as ce,Ic as ne,Jc as gt,Kb as _,O as se,Oc as J,Pa as M,Q as at,Qa as fe,Qc as w,Rb as V,Rc as vt,Sb as m,Ta as Q,Tb as _t,Ub as q,Va as ut,Wa as pe,Wb as de,Xb as ft,Yb as f,_b as T,a as et,ac as A,b as tt,bc as l,cc as p,dc as x,ea as P,eb as ht,fa as N,g as it,ga as H,gc as Y,h as ee,hc as B,ia as st,j as Le,la as lt,lc as b,m as U,ma as pt,mc as d,n as ot,na as te,nc as X,oc as Z,pa as le,pc as k,qc as D,rc as g,sa as c,sb as a,sc as v,ua as ct,ub as G,v as L,va as dt,vc as R,wb as ve,wc as u,xc as O,yc as ye,zb as be}from"./chunk-32QSKDGA.js";var ao=["panel"],so=["*"];function lo(o,s){if(o&1&&(l(0,"div",1,0),Z(2),p()),o&2){let e=s.id,t=d();de(t._classList),q("mat-mdc-autocomplete-visible",t.showPanel)("mat-mdc-autocomplete-hidden",!t.showPanel)("mat-autocomplete-panel-animations-enabled",!t._animationsDisabled)("mat-primary",t._color==="primary")("mat-accent",t._color==="accent")("mat-warn",t._color==="warn"),m("id",t.id),V("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby(e))}}var Ge=class{source;option;constructor(s,e){this.source=s,this.option=e}},qi=new le("mat-autocomplete-default-options",{providedIn:"root",factory:po});function po(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1,hasBackdrop:!1}}var Ki=(()=>{class o{_changeDetectorRef=c(J);_elementRef=c(Q);_defaults=c(qi);_animationsDisabled=c(ge,{optional:!0})==="NoopAnimations";_activeOptionChanges=ee.EMPTY;_keyManager;showPanel=!1;get isOpen(){return this._isOpen&&this.showPanel}_isOpen=!1;_latestOpeningTrigger;_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}_color;template;panel;options;optionGroups;ariaLabel;ariaLabelledby;displayWith=null;autoActiveFirstOption;autoSelectActiveOption;requireSelection;panelWidth;disableRipple;optionSelected=new M;opened=new M;closed=new M;optionActivated=new M;set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}_classList;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator;_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}id=c(we).getId("mat-autocomplete-");inertGroups;constructor(){let e=c(Ce);this.inertGroups=e?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new $t(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options?.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let t=new Ge(this,e);this.optionSelected.emit(t)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_skipPredicate(){return!1}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=F({type:o,selectors:[["mat-autocomplete"]],contentQueries:function(t,i,n){if(t&1&&(k(n,Ie,5),k(n,Ai,5)),t&2){let r;g(r=v())&&(i.options=r),g(r=v())&&(i.optionGroups=r)}},viewQuery:function(t,i){if(t&1&&(D(G,7),D(ao,5)),t&2){let n;g(n=v())&&(i.template=n.first),g(n=v())&&(i.panel=n.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",w],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",w],requireSelection:[2,"requireSelection","requireSelection",w],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",w],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",w]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[K([{provide:Ei,useExisting:o}])],ngContentSelectors:so,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(t,i){t&1&&(X(),_(0,lo,3,17,"ng-template"))},styles:[`div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}@keyframes _mat-autocomplete-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}.mat-autocomplete-panel-animations-enabled{animation:_mat-autocomplete-enter 120ms cubic-bezier(0, 0, 0.2, 1)}mat-autocomplete{display:none}
`],encapsulation:2,changeDetection:0})}return o})();var co={provide:Pt,useExisting:lt(()=>Ke),multi:!0};var Ui=new le("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let o=c(Me);return()=>o.scrollStrategies.reposition()}});function mo(o){return()=>o.scrollStrategies.reposition()}var uo={provide:Ui,deps:[Me],useFactory:mo},Ke=(()=>{class o{_environmentInjector=c(mt);_element=c(Q);_overlay=c(Me);_viewContainerRef=c(be);_zone=c(fe);_changeDetectorRef=c(J);_dir=c(ke,{optional:!0});_formField=c(mi,{optional:!0,host:!0});_viewportRuler=c(Qt);_scrollStrategy=c(Ui);_renderer=c(ve);_defaults=c(qi,{optional:!0});_overlayRef;_portal;_componentDestroyed=!1;_initialized=new U;_keydownSubscription;_outsideClickSubscription;_cleanupWindowBlur;_previousValue;_valueOnAttach;_valueOnLastKeydown;_positionStrategy;_manuallyFloatingLabel=!1;_closingActionsSubscription;_viewportSubscription=ee.EMPTY;_breakpointObserver=c(xe);_handsetLandscapeSubscription=ee.EMPTY;_canOpenOnNextFocus=!0;_valueBeforeAutoSelection;_pendingAutoselectedOption;_closeKeyEventStream=new U;_windowBlurHandler=()=>{this._canOpenOnNextFocus=this.panelOpen||!this._hasFocus()};_onChange=()=>{};_onTouched=()=>{};autocomplete;position="auto";connectedTo;autocompleteAttribute="off";autocompleteDisabled;constructor(){}_aboveClass="mat-mdc-autocomplete-panel-above";ngAfterViewInit(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){this._cleanupWindowBlur?.(),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}_overlayAttached=!1;openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Pe(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return he(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe($(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe($(()=>this._overlayAttached)):L()).pipe(j(e=>e instanceof Fi?e:null))}optionSelections=rt(()=>{let e=this.autocomplete?this.autocomplete.options:null;return e?e.changes.pipe(P(e),N(()=>he(...e.map(t=>t.onSelectionChange)))):this._initialized.pipe(N(()=>this.optionSelections))});get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return new Le(e=>{let t=n=>{let r=xt(n),h=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,z=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;this._overlayAttached&&r!==this._element.nativeElement&&!this._hasFocus()&&(!h||!h.contains(r))&&(!z||!z.contains(r))&&this._overlayRef&&!this._overlayRef.overlayElement.contains(r)&&e.next(n)},i=[this._renderer.listen("document","click",t),this._renderer.listen("document","auxclick",t),this._renderer.listen("document","touchend",t)];return()=>{i.forEach(n=>n())}})}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let t=e.keyCode,i=re(e);if(t===27&&!i&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&t===13&&this.panelOpen&&!i)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let n=this.autocomplete._keyManager.activeItem,r=t===38||t===40;t===9||r&&!i&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):r&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(r||this.autocomplete._keyManager.activeItem!==n)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let t=e.target,i=t.value;if(t.type==="number"&&(i=i==""?null:parseFloat(i)),this._previousValue!==i){if(this._previousValue=i,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(i),!i)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let n=this.autocomplete.options?.find(r=>r.selected);if(n){let r=this._getDisplayValue(n.value);i!==r&&n.deselect(!1)}}if(this._canOpen()&&this._hasFocus()){let n=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(n)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_hasFocus(){return Se()===this._element.nativeElement}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new Le(i=>{ht(()=>{i.next()},{injector:this._environmentInjector})}),t=this.autocomplete.options?.changes.pipe(st(()=>this._positionStrategy.reapplyLastPosition()),at(0))??L();return he(e,t).pipe(N(()=>this._zone.run(()=>{let i=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),i!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),se(1)).subscribe(i=>this._setValueAndClose(i))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let t=this.autocomplete;return t&&t.displayWith?t.displayWith(e):e}_assignOptionValue(e){let t=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(t??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let t=this.autocomplete,i=e?e.source:this._pendingAutoselectedOption;i?(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),t._emitSelectEvent(i),this._element.nativeElement.focus()):t.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,t){this.autocomplete?.options?.forEach(i=>{i!==e&&i.selected&&i.deselect(t)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let t=this.autocomplete.id;je(this._trackedModal,"aria-owns",t)}}_attachOverlay(e){this.autocomplete;let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new Oe(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(kt.HandsetLandscape).subscribe(n=>{n.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),t&&!t.hasAttached()&&(t.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let i=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&i!==this.panelOpen&&this._emitOpened()}_handlePanelKeydown=e=>{(e.keyCode===27&&!re(e)||e.keyCode===38&&re(e,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),e.stopPropagation(),e.preventDefault())};_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Ut({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,hasBackdrop:this._defaults?.hasBackdrop,backdropClass:this._defaults?.backdropClass,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,n=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}],r;this.position==="above"?r=n:this.position==="below"?r=t:r=[...t,...n],e.withPositions(r)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let t=-1;for(let i=0;i<e.options.length;i++)if(!e.options.get(i).disabled){t=i;break}e._keyManager.setActiveItem(t)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_scrollToOption(e){let t=this.autocomplete,i=Ii(e,t.options,t.optionGroups);if(e===0&&i===1)t._setScrollTop(0);else if(t.panel){let n=t.options.toArray()[e];if(n){let r=n._getHostElement(),h=Ti(r.offsetTop,r.offsetHeight,t._getScrollTop(),t.panel.nativeElement.offsetHeight);t._setScrollTop(h)}}}_trackedModal=null;_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=this.autocomplete.id;this._trackedModal&&Pe(this._trackedModal,"aria-owns",t),je(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;Pe(this._trackedModal,"aria-owns",e),this._trackedModal=null}}static \u0275fac=function(t){return new(t||o)};static \u0275dir=I({type:o,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(t,i){t&1&&b("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(r){return i._handleInput(r)})("keydown",function(r){return i._handleKeydown(r)})("click",function(){return i._handleClick()}),t&2&&V("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-controls",i.autocompleteDisabled||!i.panelOpen||i.autocomplete==null?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",w]},exportAs:["matAutocompleteTrigger"],features:[K([co]),_e]})}return o})(),Yi=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=ie({type:o});static \u0275inj=te({providers:[uo],imports:[Yt,Qe,ae,Gt,Qe,ae]})}return o})();var fo=["*"];function go(o,s){o&1&&Z(0)}var Ue=(()=>{class o{_elementRef=c(Q);constructor(){}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(t){return new(t||o)};static \u0275dir=I({type:o,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]})}return o})(),Ye=(()=>{class o{template=c(G);constructor(){}static \u0275fac=function(t){return new(t||o)};static \u0275dir=I({type:o,selectors:[["","cdkStepLabel",""]]})}return o})();var W={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},vo=new le("STEPPER_GLOBAL_OPTIONS"),Te=(()=>{class o{_stepperOptions;_stepper=c(De);_displayDefaultIndicatorType;stepLabel;_childForms;content;stepControl;interacted=!1;interactedStream=new M;label;errorMessage;ariaLabel;ariaLabelledby;state;editable=!0;optional=!1;get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=e}_completedOverride=null;_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(e){this._customError=e}_customError=null;_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(){let e=c(vo,{optional:!0});this._stepperOptions=e||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&(this._childForms?.forEach(e=>e.resetForm?.()),this.stepControl.reset())}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=F({type:o,selectors:[["cdk-step"]],contentQueries:function(t,i,n){if(t&1&&(k(n,Ye,5),k(n,Mt,5)),t&2){let r;g(r=v())&&(i.stepLabel=r.first),g(r=v())&&(i._childForms=r)}},viewQuery:function(t,i){if(t&1&&D(G,7),t&2){let n;g(n=v())&&(i.content=n.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",w],optional:[2,"optional","optional",w],completed:[2,"completed","completed",w],hasError:[2,"hasError","hasError",w]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[_e],ngContentSelectors:fo,decls:1,vars:0,template:function(t,i){t&1&&(X(),_(0,go,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return o})(),De=(()=>{class o{_dir=c(ke,{optional:!0});_changeDetectorRef=c(J);_elementRef=c(Q);_destroyed=new U;_keyManager;_steps;steps=new pe;_stepHeader;_sortedHeaders=new pe;linear=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._steps?(this._isValidIndex(e),this._selectedIndex!==e&&(this.selected?._markAsInteracted(),!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e))):this._selectedIndex=e}_selectedIndex=0;get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}selectionChange=new M;selectedIndexChange=new M;_groupId=c(we).getId("cdk-stepper-");get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation(e==="vertical")}_orientation="horizontal";constructor(){}ngAfterContentInit(){this._steps.changes.pipe(P(this._steps),H(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(t=>t._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){if(this._stepHeader.changes.pipe(P(this._stepHeader),H(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((t,i)=>t._elementRef.nativeElement.compareDocumentPosition(i._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new Ht(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),this._keyManager.updateActiveItem(this.selectedIndex),(this._dir?this._dir.change:L()).pipe(P(this._layoutDirection()),H(this._destroyed)).subscribe(e=>this._keyManager?.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0),this.linear&&this._selectedIndex>0){let e=this.steps.toArray().slice(0,this._selectedIndex);for(let t of e)t._markAsInteracted()}}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`${this._groupId}-label-${e}`}_getStepContentId(e){return`${this._groupId}-content-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){let t=e-this._selectedIndex;return t<0?this._layoutDirection()==="rtl"?"next":"previous":t>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(e,t=W.NUMBER){let i=this.steps.toArray()[e],n=this._isCurrentStep(e);return i._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(i,n):this._getGuidelineLogic(i,n,t)}_getDefaultIndicatorLogic(e,t){return e._showError()&&e.hasError&&!t?W.ERROR:!e.completed||t?W.NUMBER:e.editable?W.EDIT:W.DONE}_getGuidelineLogic(e,t,i=W.NUMBER){return e._showError()&&e.hasError&&!t?W.ERROR:e.completed&&!t?W.DONE:e.completed&&t?i:e.editable&&t?W.EDIT:i}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){let t=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:t[e],previouslySelectedStep:t[this._selectedIndex]}),this._keyManager&&(this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e)),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(e){let t=re(e),i=e.keyCode,n=this._keyManager;n?.activeItemIndex!=null&&!t&&(i===32||i===13)?(this.selectedIndex=n.activeItemIndex,e.preventDefault()):n?.setFocusOrigin("keyboard").onKeydown(e)}_anyControlsInvalidOrPending(e){return this.linear&&e>=0?this.steps.toArray().slice(0,e).some(t=>{let i=t.stepControl;return(i?i.invalid||i.pending||!t.interacted:!t.completed)&&!t.optional&&!t._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let e=this._elementRef.nativeElement,t=Se();return e===t||e.contains(t)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}static \u0275fac=function(t){return new(t||o)};static \u0275dir=I({type:o,selectors:[["","cdkStepper",""]],contentQueries:function(t,i,n){if(t&1&&(k(n,Te,5),k(n,Ue,5)),t&2){let r;g(r=v())&&(i._steps=r),g(r=v())&&(i._stepHeader=r)}},inputs:{linear:[2,"linear","linear",w],selectedIndex:[2,"selectedIndex","selectedIndex",vt],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"]})}return o})();var Xi=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=ie({type:o});static \u0275inj=te({imports:[wt]})}return o})();function bo(o,s){if(o&1&&Y(0,2),o&2){let e=d();m("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function yo(o,s){if(o&1&&(l(0,"span",7),u(1),p()),o&2){let e=d(2);a(),O(e._getDefaultTextForState(e.state))}}function Co(o,s){if(o&1&&(l(0,"span",8),u(1),p()),o&2){let e=d(3);a(),O(e._intl.completedLabel)}}function So(o,s){if(o&1&&(l(0,"span",8),u(1),p()),o&2){let e=d(3);a(),O(e._intl.editableLabel)}}function xo(o,s){if(o&1&&(_(0,Co,2,1,"span",8)(1,So,2,1,"span",8),l(2,"mat-icon",7),u(3),p()),o&2){let e=d(2);f(e.state==="done"?0:e.state==="edit"?1:-1),a(3),O(e._getDefaultTextForState(e.state))}}function ko(o,s){if(o&1&&_(0,yo,2,1,"span",7)(1,xo,4,2),o&2){let e,t=d();f((e=t.state)==="number"?0:1)}}function wo(o,s){o&1&&(l(0,"div",4),Y(1,9),p()),o&2&&(a(),m("ngTemplateOutlet",s.template))}function Po(o,s){if(o&1&&(l(0,"div",4),u(1),p()),o&2){let e=d();a(),O(e.label)}}function Oo(o,s){if(o&1&&(l(0,"div",5),u(1),p()),o&2){let e=d();a(),O(e._intl.optionalLabel)}}function Mo(o,s){if(o&1&&(l(0,"div",6),u(1),p()),o&2){let e=d();a(),O(e.errorMessage)}}var Zi=["*"];function Eo(o,s){}function Ao(o,s){if(o&1&&(Z(0),_(1,Eo,0,0,"ng-template",0)),o&2){let e=d();a(),m("cdkPortalOutlet",e._portal)}}var Fo=["animatedContainer"],Ji=(o,s)=>({step:o,i:s});function Io(o,s){o&1&&Z(0)}function To(o,s){o&1&&x(0,"div",7)}function Do(o,s){if(o&1&&(Y(0,6),_(1,To,1,0,"div",7)),o&2){let e=s.$implicit,t=s.$index,i=s.$index,n=s.$count;d(2);let r=R(4);m("ngTemplateOutlet",r)("ngTemplateOutletContext",Ve(3,Ji,e,t)),a(),f(i!==n-1?1:-1)}}function Ro(o,s){if(o&1&&(l(0,"div",8,1),Y(2,9),p()),o&2){let e=s.$implicit,t=s.$index,i=d(2);de("mat-horizontal-stepper-content-"+i._getAnimationDirection(t)),m("id",i._getStepContentId(t)),V("aria-labelledby",i._getStepLabelId(t))("inert",i.selectedIndex===t?null:""),a(2),m("ngTemplateOutlet",e.content)}}function zo(o,s){if(o&1&&(l(0,"div",2)(1,"div",3),E(2,Do,2,6,null,null,T),p(),l(4,"div",4),E(5,Ro,3,6,"div",5,T),p()()),o&2){let e=d();a(2),A(e.steps),a(3),A(e.steps)}}function Lo(o,s){if(o&1&&(l(0,"div",10),Y(1,6),l(2,"div",11,1)(4,"div",12)(5,"div",13),Y(6,9),p()()()()),o&2){let e=s.$implicit,t=s.$index,i=s.$index,n=s.$count,r=d(2),h=R(4);a(),m("ngTemplateOutlet",h)("ngTemplateOutletContext",Ve(10,Ji,e,t)),a(),q("mat-stepper-vertical-line",i!==n-1)("mat-vertical-content-container-active",r.selectedIndex===t),V("inert",r.selectedIndex===t?null:""),a(2),m("id",r._getStepContentId(t)),V("aria-labelledby",r._getStepLabelId(t)),a(2),m("ngTemplateOutlet",e.content)}}function No(o,s){if(o&1&&E(0,Lo,7,13,"div",10,T),o&2){let e=d();A(e.steps)}}function Vo(o,s){if(o&1){let e=B();l(0,"mat-step-header",14),b("click",function(){let i=y(e).step;return C(i.select())})("keydown",function(i){y(e);let n=d();return C(n._onKeydown(i))}),p()}if(o&2){let e=s.step,t=s.i,i=d();q("mat-horizontal-stepper-header",i.orientation==="horizontal")("mat-vertical-stepper-header",i.orientation==="vertical"),m("tabIndex",i._getFocusIndex()===t?0:-1)("id",i._getStepLabelId(t))("index",t)("state",i._getIndicatorType(t,e.state))("label",e.stepLabel||e.label)("selected",i.selectedIndex===t)("active",i._stepIsNavigable(t,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",i._iconOverrides)("disableRipple",i.disableRipple||!i._stepIsNavigable(t,e))("color",e.color||i.color),V("aria-posinset",t+1)("aria-setsize",i.steps.length)("aria-controls",i._getStepContentId(t))("aria-selected",i.selectedIndex==t)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",i._stepIsNavigable(t,e)?null:!0)}}var ue=(()=>{class o extends Ye{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ne(o)))(i||o)}})();static \u0275dir=I({type:o,selectors:[["","matStepLabel",""]],features:[ce]})}return o})(),Re=(()=>{class o{changes=new U;optionalLabel="Optional";completedLabel="Completed";editableLabel="Editable";static \u0275fac=function(t){return new(t||o)};static \u0275prov=pt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Bo(o){return o||new Re}var Wo={provide:Re,deps:[[new ct,new dt,Re]],useFactory:Bo},Xe=(()=>{class o extends Ue{_intl=c(Re);_focusMonitor=c(Bt);_intlSubscription;state;label;errorMessage;iconOverrides;index;selected;active;optional;disableRipple;color;constructor(){super();let e=c(Wt);e.load(ni),e.load(jt);let t=c(J);this._intlSubscription=this._intl.changes.subscribe(()=>t.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._elementRef,e,t):this._elementRef.nativeElement.focus(t)}_stringLabel(){return this.label instanceof ue?null:this.label}_templateLabel(){return this.label instanceof ue?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return e=="number"?`${this.index+1}`:e=="edit"?"create":e=="error"?"warning":e}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=F({type:o,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(t,i){t&2&&de("mat-"+(i.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},features:[ce],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(t,i){if(t&1&&(x(0,"div",0),l(1,"div")(2,"div",1),_(3,bo,1,2,"ng-container",2)(4,ko,2,1),p()(),l(5,"div",3),_(6,wo,2,1,"div",4)(7,Po,2,1,"div",4)(8,Oo,2,1,"div",5)(9,Mo,2,1,"div",6),p()),t&2){let n;m("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disableRipple),a(),ft("mat-step-icon-state-",i.state," mat-step-icon"),q("mat-step-icon-selected",i.selected),a(2),f(i.iconOverrides&&i.iconOverrides[i.state]?3:4),a(2),q("mat-step-label-active",i.active)("mat-step-label-selected",i.selected)("mat-step-label-error",i.state=="error"),a(),f((n=i._templateLabel())?6:i._stringLabel()?7:-1,n),a(2),f(i.optional&&i.state!="error"?8:-1),a(),f(i.state==="error"?9:-1)}},dependencies:[oi,Be,Ae],styles:[`.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-hover-state-layer-shape, var(--mat-sys-corner-medium))}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-focus-state-layer-shape, var(--mat-sys-corner-medium))}@media(hover: none){.mat-step-header:hover{background:none}}@media(forced-colors: active){.mat-step-header{outline:solid 1px}.mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-header[aria-disabled=true]{outline-color:GrayText}.mat-step-header[aria-disabled=true] .mat-step-label,.mat-step-header[aria-disabled=true] .mat-step-icon,.mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color, var(--mat-sys-surface));background-color:var(--mat-stepper-header-icon-background-color, var(--mat-sys-on-surface-variant))}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color, transparent);color:var(--mat-stepper-header-error-state-icon-foreground-color, var(--mat-sys-error))}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-stepper-header-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-stepper-header-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color, var(--mat-sys-error));font-size:var(--mat-stepper-header-error-state-label-text-size, var(--mat-sys-title-small-size))}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-selected-state-label-text-weight, var(--mat-sys-title-small-weight))}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-selected-state-icon-foreground-color, var(--mat-sys-on-primary))}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-edit-state-icon-foreground-color, var(--mat-sys-on-primary))}
`],encapsulation:2,changeDetection:0})}return o})(),jo=(()=>{class o{templateRef=c(G);name;constructor(){}static \u0275fac=function(t){return new(t||o)};static \u0275dir=I({type:o,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]}})}return o})(),$o=(()=>{class o{_template=c(G);constructor(){}static \u0275fac=function(t){return new(t||o)};static \u0275dir=I({type:o,selectors:[["ng-template","matStepContent",""]]})}return o})(),Ze=(()=>{class o extends Te{_errorStateMatcher=c(Ee,{skipSelf:!0});_viewContainerRef=c(be);_isSelected=ee.EMPTY;stepLabel=void 0;color;_lazyContent;_portal;ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(N(()=>this._stepper.selectionChange.pipe(j(e=>e.selectedStep===this),P(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new Oe(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,t){let i=this._errorStateMatcher.isErrorState(e,t),n=!!(e&&e.invalid&&this.interacted);return i||n}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ne(o)))(i||o)}})();static \u0275cmp=F({type:o,selectors:[["mat-step"]],contentQueries:function(t,i,n){if(t&1&&(k(n,ue,5),k(n,$o,5)),t&2){let r;g(r=v())&&(i.stepLabel=r.first),g(r=v())&&(i._lazyContent=r.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],features:[K([{provide:Ee,useExisting:o},{provide:Te,useExisting:o}]),ce],ngContentSelectors:Zi,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(t,i){t&1&&(X(),_(0,Ao,2,1,"ng-template"))},dependencies:[qt],encapsulation:2,changeDetection:0})}return o})(),Je=(()=>{class o extends De{_ngZone=c(fe);_renderer=c(ve);_animationsModule=c(ge,{optional:!0});_cleanupTransition;_isAnimating=ut(!1);_stepHeader=void 0;_animatedContainers;_steps=void 0;steps=new pe;_icons;animationDone=new M;disableRipple;color;labelPosition="end";headerPosition="top";_iconOverrides={};get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}_animationDuration="";_isServer=!c(Ce).isBrowser;constructor(){super();let t=c(Q).nativeElement.nodeName.toLowerCase();this.orientation=t==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:t})=>this._iconOverrides[e]=t),this.steps.changes.pipe(H(this._destroyed)).subscribe(()=>this._stateChanged()),this.selectedIndexChange.pipe(H(this._destroyed)).subscribe(()=>{let e=this._getAnimationDuration();e==="0ms"||e==="0s"?this._onAnimationDone():this._isAnimating.set(!0)}),this._ngZone.runOutsideAngular(()=>{this._animationsModule!=="NoopAnimations"&&setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-stepper-animations-enabled"),this._cleanupTransition=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionend)},200)})}ngAfterViewInit(){if(super.ngAfterViewInit(),typeof queueMicrotask=="function"){let e=!1;this._animatedContainers.changes.pipe(P(null),H(this._destroyed)).subscribe(()=>queueMicrotask(()=>{e||(e=!0,this.animationDone.emit()),this._stateChanged()}))}}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransition?.()}_stepIsNavigable(e,t){return t.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this._animationsModule==="NoopAnimations"?"0ms":this.animationDuration?this.animationDuration:this.orientation==="horizontal"?"500ms":"225ms"}_handleTransitionend=e=>{let t=e.target;if(!t)return;let i=this.orientation==="horizontal"&&e.propertyName==="transform"&&t.classList.contains("mat-horizontal-stepper-content-current"),n=this.orientation==="vertical"&&e.propertyName==="grid-template-rows"&&t.classList.contains("mat-vertical-content-container-active");(i||n)&&this._animatedContainers.find(h=>h.nativeElement===t)&&this._onAnimationDone()};_onAnimationDone(){this._isAnimating.set(!1),this.animationDone.emit()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=F({type:o,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(t,i,n){if(t&1&&(k(n,Ze,5),k(n,jo,5)),t&2){let r;g(r=v())&&(i._steps=r),g(r=v())&&(i._icons=r)}},viewQuery:function(t,i){if(t&1&&(D(Xe,5),D(Fo,5)),t&2){let n;g(n=v())&&(i._stepHeader=n),g(n=v())&&(i._animatedContainers=n)}},hostAttrs:["role","tablist"],hostVars:15,hostBindings:function(t,i){t&2&&(V("aria-orientation",i.orientation),_t("--mat-stepper-animation-duration",i._getAnimationDuration()),q("mat-stepper-horizontal",i.orientation==="horizontal")("mat-stepper-vertical",i.orientation==="vertical")("mat-stepper-label-position-end",i.orientation==="horizontal"&&i.labelPosition=="end")("mat-stepper-label-position-bottom",i.orientation==="horizontal"&&i.labelPosition=="bottom")("mat-stepper-header-position-bottom",i.headerPosition==="bottom")("mat-stepper-animating",i._isAnimating()))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[K([{provide:De,useExisting:o}]),ce],ngContentSelectors:Zi,decls:5,vars:2,consts:[["stepTemplate",""],["animatedContainer",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","class"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(t,i){if(t&1&&(X(),_(0,Io,1,0)(1,zo,7,0,"div",2)(2,No,2,0)(3,Vo,1,23,"ng-template",null,0,gt)),t&2){let n;f(i._isServer?0:-1),a(),f((n=i.orientation)==="horizontal"?1:n==="vertical"?2:-1)}},dependencies:[Be,Xe],styles:[`.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font, var(--mat-sys-body-medium-font));background:var(--mat-stepper-container-color, var(--mat-sys-surface))}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height, 72px)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{visibility:hidden;overflow:hidden;outline:0;height:0}.mat-stepper-animations-enabled .mat-horizontal-stepper-content{transition:transform var(--mat-stepper-animation-duration, 0) cubic-bezier(0.35, 0, 0.25, 1)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-previous{transform:translate3d(-100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-next{transform:translate3d(100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{visibility:visible;transform:none;height:auto}.mat-stepper-horizontal:not(.mat-stepper-animating) .mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{overflow:visible}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}@media(forced-colors: active){.mat-horizontal-content-container{outline:solid 1px}}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{display:grid;grid-template-rows:0fr;grid-template-columns:100%;margin-left:36px;border:0;position:relative}.mat-stepper-animations-enabled .mat-vertical-content-container{transition:grid-template-rows var(--mat-stepper-animation-duration, 0) cubic-bezier(0.4, 0, 0.2, 1)}.mat-vertical-content-container.mat-vertical-content-container-active{grid-template-rows:1fr}.mat-step:last-child .mat-vertical-content-container{border:none}@media(forced-colors: active){.mat-vertical-content-container{outline:solid 1px}}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}@supports not (grid-template-rows: 0fr){.mat-vertical-content-container{height:0}.mat-vertical-content-container.mat-vertical-content-container-active{height:auto}}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color, var(--mat-sys-outline));top:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0;visibility:hidden}.mat-stepper-animations-enabled .mat-vertical-stepper-content{transition:visibility var(--mat-stepper-animation-duration, 0) linear}.mat-vertical-content-container-active>.mat-vertical-stepper-content{visibility:visible}.mat-vertical-content{padding:0 24px 24px 24px}
`],encapsulation:2,changeDetection:0})}return o})();var eo=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=ie({type:o});static \u0275inj=te({providers:[Wo,Ee],imports:[ae,Kt,Xi,Fe,ai,Je,Xe,ae]})}return o})();var Qo=["pesticideDetailsContainer"],Go=(o,s)=>s.pesticideName;function qo(o,s){o&1&&(l(0,"h2"),u(1),p()),o&2&&(a(),ye("",s.companyName," - \xDAj munkalap/munkaigazol\xE1s l\xE9trehoz\xE1sa"))}function Ko(o,s){if(o&1&&(l(0,"mat-option",12),u(1),p()),o&2){let e=s.$implicit;m("value",e),a(),O(e.responsiblePersonName)}}function Uo(o,s){if(o&1){let e=B();l(0,"mat-checkbox",41),b("change",function(){let i=y(e).$implicit,n=d(2).$index,r=d(2);return C(r.toggleSubtype(i,n))}),u(1),p()}if(o&2){let e=s.$implicit,t=d(2).$index,i=d(2);m("checked",i.getPesticideSubtypesControl(t).value.includes(e)),a(),ye(" ",e," ")}}function Yo(o,s){if(o&1&&(x(0,"mat-divider"),l(1,"div",43),E(2,Uo,2,2,"mat-checkbox",44,T),p()),o&2){let e=d(3);a(2),A(e.insecticides)}}function Xo(o,s){if(o&1){let e=B();l(0,"mat-checkbox",41),b("change",function(){let i=y(e).$implicit,n=d(2).$index,r=d(2);return C(r.toggleSubtype(i,n))}),u(1),p()}if(o&2){let e=s.$implicit,t=d(2).$index,i=d(2);m("checked",i.getPesticideSubtypesControl(t).value.includes(e)),a(),ye(" ",e," ")}}function Zo(o,s){if(o&1&&(x(0,"mat-divider"),l(1,"div",43),E(2,Xo,2,2,"mat-checkbox",44,T),p()),o&2){let e=d(3);a(2),A(e.rodenticides)}}function Jo(o,s){if(o&1&&(l(0,"mat-option",12),u(1),p()),o&2){let e=s.$implicit;m("value",e),a(),O(e.pesticideName)}}function en(o,s){if(o&1){let e=B();l(0,"mat-form-field",9)(1,"mat-label"),u(2,"Rovarirt\xF3szer neve"),p(),x(3,"input",10),l(4,"mat-autocomplete",11,5),b("optionSelected",function(i){y(e);let n=d().$index,r=d(2);return C(r.onPesticideSelected(i.option.value,n))}),E(6,Jo,2,2,"mat-option",12,Go),oe(8,"async"),p()()}if(o&2){let e=R(5),t=d().$index,i=d(2);a(3),m("formControl",i.getPesticideControl(t))("matAutocomplete",e),a(),m("displayWith",i.displayFnPesticide),a(2),A(ne(8,3,i.filteredPesticides$[t]))}}function tn(o,s){if(o&1&&(l(0,"mat-option",12),u(1),p()),o&2){let e=s.$implicit;m("value",e),a(),O(e.pesticideName)}}function on(o,s){if(o&1){let e=B();l(0,"mat-form-field",9)(1,"mat-label"),u(2,"R\xE1gcs\xE1l\xF3irt\xF3szer neve"),p(),x(3,"input",10),l(4,"mat-autocomplete",11,5),b("optionSelected",function(i){y(e);let n=d().$index,r=d(2);return C(r.onPesticideSelected(i.option.value,n))}),E(6,tn,2,2,"mat-option",12,T),oe(8,"async"),p()()}if(o&2){let e=R(5),t=d().$index,i=d(2);a(3),m("formControl",i.getPesticideControl(t))("matAutocomplete",e),a(),m("displayWith",i.displayFnPesticide),a(2),A(ne(8,3,i.filteredPesticides$[t]))}}function nn(o,s){if(o&1){let e=B();l(0,"div",39)(1,"div",40)(2,"mat-checkbox",41),b("change",function(i){let n=y(e).$index,r=d(2);return C(r.selectPesticideType(i.checked,"R\xE1gcs\xE1l\xF3irt\xF3szer",n))}),u(3," R\xE1gcs\xE1l\xF3irt\xF3szer "),p(),l(4,"mat-checkbox",41),b("change",function(i){let n=y(e).$index,r=d(2);return C(r.selectPesticideType(i.checked,"Rovarirt\xF3szer",n))}),u(5," Rovarirt\xF3szer "),p(),l(6,"button",42),b("click",function(){let i=y(e).$index,n=d(2);return C(n.onRemovePesticideClicked(i))}),l(7,"mat-icon"),u(8,"remove_circle_outline"),p()()(),_(9,Yo,4,0)(10,Zo,4,0)(11,en,9,5,"mat-form-field",9)(12,on,9,5,"mat-form-field",9),p()}if(o&2){let e=s.$index,t=d(2);m("formGroupName",e),a(2),m("checked",t.getPesticideTypeControl(e).value==="R\xE1gcs\xE1l\xF3irt\xF3szer"),a(2),m("checked",t.getPesticideTypeControl(e).value==="Rovarirt\xF3szer"),a(5),f(t.getPesticideTypeControl(e).value==="Rovarirt\xF3szer"?9:-1),a(),f(t.getPesticideTypeControl(e).value==="R\xE1gcs\xE1l\xF3irt\xF3szer"?10:-1),a(),f(t.getPesticideTypeControl(e).value==="Rovarirt\xF3szer"&&t.getPesticideSubtypesControl(e).value.length>0?11:-1),a(),f(t.getPesticideTypeControl(e).value==="R\xE1gcs\xE1l\xF3irt\xF3szer"&&t.getPesticideSubtypesControl(e).value.length>0?12:-1)}}function rn(o,s){if(o&1&&(l(0,"div",17,4),E(2,nn,13,7,"div",39,T),p()),o&2){let e=d();a(2),A(e.pesticides.controls)}}function an(o,s){if(o&1&&x(0,"app-input-text-field",24),o&2){let e=d();m("form",e.workPaperForm)}}function sn(o,s){o&1&&(l(0,"mat-error"),u(1,"\xC9rv\xE9nytelen kezd\u0151 d\xE1tum"),p())}function ln(o,s){o&1&&(l(0,"mat-error"),u(1,"\xC9rv\xE9nytelen v\xE9gs\u0151 d\xE1tum"),p())}function pn(o,s){o&1&&u(0,"K\xE9sz")}var Ca=(()=>{class o{constructor(){this.formBuilder=c(Lt),this.pdfService=c(He),this.breakpointObserver=c(xe),this.toggleWorkSubjectOrder=[" r\xE1gcs\xE1l\xF3irt\xE1s"," rovarirt\xE1s"," egy\xE9b"],this.filteredPesticides$=[],this.store=c(Xt),this.actions$=c(Jt),this.pesticideService=c(ji),this.insecticides=[],this.rodenticides=[],this.onAddPesticide=!1,this.route=c(Ct),this.pesticideSubscriptions=[],this.companyId=null,this.router=c(St),this.stepperOrientation=this.breakpointObserver.observe("(min-width: 800px)").pipe(j(({matches:e})=>e?"horizontal":"vertical"))}ngOnInit(){this.routeSubscription=this.route.paramMap.subscribe(e=>{this.companyId=e.get("companyId"),this.companyId&&(this.store.dispatch(Zt.loadByIid({iid:this.companyId})),this.company$=this.store.select($i),this.store.dispatch(me.loadLatestByCompanyIid({iid:this.companyId})),this.actions$.pipe($e(me.loadLatestByCompanyIidFailure),se(1)).subscribe(()=>{this.latestWorkDocument$=L({}),this.workProofForm.reset(),this.workPaperForm.reset(),this.pesticides.clear(),this.onAddPesticide=!1}))}),this.latestWorkDocument$=this.store.select(ei).pipe($(e=>e!==null)),this.initializeForms(),this.responsiblePersons$=this.store.select(zi).pipe($(e=>e!==null)),this.filteredResponsiblePersons=this.responsiblePerson.valueChanges.pipe(P(""),N(e=>this.filterResponsiblePersons(typeof e=="string"?e:e?.responsiblePersonName||""))),this.pesticides$=this.store.select(Li).pipe($(e=>e!==null))}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe(),this.workSubjectSubscription&&this.workSubjectSubscription.unsubscribe(),this.latestWorkDocumentSubscription&&this.latestWorkDocumentSubscription.unsubscribe(),this.pesticideSubscriptions.forEach(e=>e.unsubscribe())}filterResponsiblePersons(e){let t=e.toLowerCase();return(this.responsiblePersons$||L([])).pipe(j(i=>i.filter(n=>n.responsiblePersonName.toLowerCase().includes(t))))}filterPesticides(e,t){let i=typeof e=="string"?e.toLowerCase():"";return(this.pesticides$||L([])).pipe(j(n=>n.filter(r=>r.pesticideName.toLowerCase().includes(i)&&r.pesticideSubtypes.some(h=>t.includes(h)))))}displayFnResponsiblePerson(e){return e?e.responsiblePersonName:""}displayFnPesticide(e){return e?e.pesticideName:""}onResponsiblePersonSelected(e){this.workProofForm.patchValue({responsiblePerson:e,responsiblePersonName:e.responsiblePersonName,responsiblePersonLicense:e.responsiblePersonLicense})}onPesticideSelected(e,t){this.getPesticideFormGroup(t).patchValue({pesticideName:e.pesticideName,pesticideSubstance1:e.pesticideSubstance1,pesticideSubstance2:e.pesticideSubstance2,pesticideSubstance3:e.pesticideSubstance3,pesticideSubstance4:e.pesticideSubstance4,pesticideAntidote1:e.pesticideAntidote1,pesticideAntidote2:e.pesticideAntidote2})}onSelectionChange(){let e=this.workSubject.value||[];this.containsOther||this.workSubjectOther.setValue("",{emitEvent:!1}),e.sort((t,i)=>this.toggleWorkSubjectOrder.indexOf(t)-this.toggleWorkSubjectOrder.indexOf(i)),this.workSubject.setValue(e,{emitEvent:!1})}get containsOther(){return(this.workSubject.value||[]).some(t=>t.includes("egy\xE9b"))}updateWorkSubjectOtherValidators(e){this.containsOther?this.workSubjectOther.setValidators([S.required]):this.workSubjectOther.setValidators(null),this.workSubjectOther.updateValueAndValidity()}initializeForms(){this.insecticides=this.pesticideService.insecticides,this.rodenticides=this.pesticideService.rodenticides,this.workProofForm=this.formBuilder.group({companyId:[this.companyId,[S.required]],responsiblePerson:["",[S.required]],clientName:["",[S.required]],jobsDone:["",[S.required]],pesticides:this.formBuilder.array([])}),this.workPaperForm=this.formBuilder.group({workSubject:["",[S.required]],workSubjectOther:[""],workArt:["",S.required],workStartDate:["",S.required],workEndDate:["",S.required],clientNameForWorkPaper:["",S.required],scopeOfWork:["",S.required]}),this.latestWorkDocumentSubscription=this.latestWorkDocument$?.pipe($(e=>e!==null)).subscribe(e=>{e&&(this.workProofForm.patchValue({clientName:e.clientName,companyId:e.companyId,jobsDone:e.jobsDone,responsiblePerson:e.responsiblePerson}),this.workPaperForm.patchValue({clientNameForWorkPaper:e.clientNameForWorkPaper,scopeOfWork:e.scopeOfWork,workArt:e.workArt,workSubject:e.workSubject,workSubjectOther:e.workSubjectOther}),this.pesticides.clear(),e.pesticides?.length&&(this.onAddPesticide=!0,e.pesticides.forEach((t,i)=>{let n=tt(et({},t.pesticide),{createdAt:new Date(t.pesticide.createdAt),updatedAt:new Date(t.pesticide.updatedAt)}),r=this.createPesticide();r.patchValue({pesticide:n,pesticideType:n.pesticideType});let h=r.get("pesticideSubtypes");(n.pesticideSubtypes||[]).forEach(z=>{h.push(new We(z))}),this.pesticides.push(r),this.setupPesticideAutocomplete(r,i),this.onPesticideSelected(n,i)})))}),this.workSubjectSubscription=this.workSubject.valueChanges.subscribe(e=>{this.updateWorkSubjectOtherValidators(e)})}createPesticide(){return this.formBuilder.group({pesticide:["",[S.required]],pesticideName:["",[S.required]],pesticideType:["",[S.required]],pesticideSubtypes:this.formBuilder.array([],[S.required])})}onAddPesticideClicked(){this.onAddPesticide=!0;let e=this.createPesticide();this.pesticides.push(e);let t=this.pesticides.length-1;this.setupPesticideAutocomplete(e,t),this.scrollToPesticideContainer()}setupPesticideAutocomplete(e,t){let i=e.get("pesticideSubtypes");if(!i)throw new Error("pesticideSubtypesControl is undefined");let n=new ot(i.value||[]),r=i.valueChanges.subscribe(ze=>n.next(ze));this.pesticideSubscriptions.push(r);let h=e.get("pesticideName");if(!h)throw new Error("pesticideNameControl is undefined");let z=h.valueChanges.pipe(P("")),to=z.subscribe();this.pesticideSubscriptions.push(to);let io=nt([z,n]).pipe(N(([ze,oo])=>this.filterPesticides(ze,oo)));this.filteredPesticides$[t]=io}get responsiblePerson(){return this.workProofForm.get("responsiblePerson")}get clientName(){return this.workProofForm.get("clientName")}get jobsDone(){return this.workProofForm.get("jobsDone")}get rodenticide(){return this.workProofForm.get("rodenticide")}get antiRodenticide(){return this.workProofForm.get("antiRodenticide")}get pesticides(){return this.workProofForm.get("pesticides")}getPesticideFormGroup(e){return this.pesticides.at(e)}createSubtypeFormControl(){return this.formBuilder.control("")}getPesticideControl(e){return this.getPesticideFormGroup(e).get("pesticide")}getPesticideNameControl(e){return this.getPesticideFormGroup(e).get("pesticideName")}getPesticideTypeControl(e){return this.getPesticideFormGroup(e).get("pesticideType")}getPesticideSubtypesControl(e){return this.getPesticideFormGroup(e).get("pesticideSubtypes")}getPesticideSubstance1Control(e){return this.getPesticideFormGroup(e).get("pesticideSubstance1")}getPesticideSubstance2Control(e){return this.getPesticideFormGroup(e).get("pesticideSubstance2")}getPesticideSubstance3Control(e){return this.getPesticideFormGroup(e).get("pesticideSubstance3")}getPesticideSubstance4Control(e){return this.getPesticideFormGroup(e).get("pesticideSubstance4")}getPesticideAntidote1Control(e){return this.getPesticideFormGroup(e).get("pesticideAntidote1")}getPesticideAntidote2Control(e){return this.getPesticideFormGroup(e).get("pesticideAntidote2")}get workSubject(){return this.workPaperForm.get("workSubject")}get workSubjectOther(){return this.workPaperForm.get("workSubjectOther")}get workArt(){return this.workPaperForm.get("workArt")}get workStartDate(){return this.workPaperForm.get("workStartDate")}get workEndDate(){return this.workPaperForm.get("workEndDate")}get clientNameForWorkPaper(){return this.workPaperForm.get("clientNameForWorkPaper")}get scopeOfWork(){return this.workPaperForm.get("scopeOfWork")}scrollToPesticideContainer(){setTimeout(()=>{this.pesticideDetailsContainer&&this.pesticideDetailsContainer.nativeElement.scrollIntoView({behavior:"smooth",block:"end"})},0)}onDateRangeClosed(e,t){let i=e.value,n=t.value;if(i&&n){let r=new Date(n);r.setHours(23,59,59,999),this.workEndDate?.setValue(r)}}selectPesticideType(e,t,i){e?this.getPesticideTypeControl(i).setValue(t):this.getPesticideTypeControl(i).setValue(""),this.getPesticideSubtypesControl(i).clear(),this.resetAutocomplete(i),this.scrollToPesticideContainer()}resetAutocomplete(e){this.getPesticideControl(e).setValue("")}toggleSubtype(e,t){let i=this.getPesticideSubtypesControl(t),n=i.value.indexOf(e);n===-1?i.push(new We(e)):i.removeAt(n),this.scrollToPesticideContainer()}onRemovePesticideClicked(e){this.pesticides.removeAt(e)}submitForms(){if(this.workProofForm.valid&&this.workPaperForm.valid){let e={clientName:this.clientName.value,companyId:this.companyId,jobsDone:this.jobsDone.value,pesticides:this.pesticides.value,responsiblePerson:this.responsiblePerson.value,clientNameForWorkPaper:this.clientNameForWorkPaper.value,scopeOfWork:this.scopeOfWork.value,workArt:this.workArt.value,workStartDate:this.workStartDate.value,workEndDate:this.workEndDate.value,workSubject:this.workSubject.value,workSubjectOther:this.workSubjectOther.value?this.workSubjectOther.value.charAt(0).toLowerCase()+this.workSubjectOther.value.slice(1):""};this.store.dispatch(me.create({workDocumentToCreate:e})),this.actions$.pipe($e(me.creationSuccess),se(1)).subscribe(t=>{this.openPdfInNewWindow(t.createdWorkDocument)})}else console.error("One or both forms are invalid!")}openPdfInNewWindow(e){return it(this,null,function*(){try{let t=yield this.pdfService.generatePdfBlob(ti(e.serialNumber,e.responsiblePerson,e.clientName,e.jobsDone,e.pesticides)),i=yield this.pdfService.generatePdfBlob(ii(e.serialNumber,e.workSubject,e.workSubjectOther,e.workArt,this.pdfService.formatDate(e.workStartDate),this.pdfService.formatDate(e.workEndDate),e.clientNameForWorkPaper,e.scopeOfWork,e.pesticides)),n=yield this.pdfService.createA4LandscapeWithA5s(t,i),r=new Blob([n],{type:"application/pdf"}),h=window.URL.createObjectURL(r);window.open(h,"_blank")}catch(t){console.error("Failed to open PDF:",t)}})}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=F({type:o,selectors:[["app-work-proof"]],viewQuery:function(t,i){if(t&1&&D(Qo,5),t&2){let n;g(n=v())&&(i.pesticideDetailsContainer=n.first)}},features:[K([He,Ri(),{provide:Si,useValue:"hu-HU"}])],decls:62,vars:26,consts:[["responsiblePersonAutoComplete","matAutocomplete"],["dateRangeStart",""],["dateRangeEnd",""],["picker",""],["pesticideDetailsContainer",""],["pesticideAutoComplete","matAutocomplete"],[1,"container",3,"orientation"],["label","T\xF6ltse ki a munkaigazol\xE1st",3,"stepControl"],[3,"formGroup"],[1,"autocomplete-container"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"optionSelected","displayWith"],[3,"value"],["label","Megrendel\u0151 neve","controlName","clientName",3,"form"],["label","Elv\xE9gzett munk\xE1latok","controlName","jobsDone",3,"form"],[1,"add-pesticide-container"],["mat-icon-button","","color","primary","aria-label","Irt\xF3szer hozz\xE1ad\xE1sa",3,"click"],["formArrayName","pesticides",1,"add-pesticide-details-container"],["label","T\xF6ltse ki a munkalapot",3,"stepControl"],[1,"toggleGroupContainer"],["formControlName","workSubject","name","workSubject","aria-label","A munka megnevez\xE9se (t\xE1rgya)","multiple","",3,"change"],["value","r\xE1gcs\xE1l\xF3irt\xE1s"],["value","rovarirt\xE1s"],["value","egy\xE9b"],["label","Egy\xE9b munka megnevez\xE9se","controlName","workSubjectOther",3,"form"],["formControlName","workArt","name","workArt","aria-label","A munka t\xEDpusa","multiple","",3,"change"],["value","szerz\u0151d\xE9ses"],["value","eseti"],["value","garanci\xE1lis"],[1,"date-picker"],[3,"rangePicker"],["matStartDate","","formControlName","workStartDate","placeholder","Kezd\u0151 d\xE1tum","readonly",""],["matEndDate","","formControlName","workEndDate","placeholder","Befejez\u0151 d\xE1tum","readonly",""],["matIconSuffix","",3,"for"],[3,"closed"],["label","Megrendel\u0151 adatai (neve, c\xEDme)","controlName","clientNameForWorkPaper",3,"form"],["label","Munkater\xFClet megnevez\xE9se","controlName","scopeOfWork",3,"form"],["matStepLabel",""],["mat-raised-button","","color","primary","type","button",3,"click","disabled"],[3,"formGroupName"],[1,"checkbox-container"],["labelPosition","before",3,"change","checked"],["mat-icon-button","","color","warn","aria-label","Irt\xF3szer elt\xE1vol\xEDt\xE1sa",3,"click"],[1,"sub-checkbox-container"],["labelPosition","before",3,"checked"]],template:function(t,i){if(t&1){let n=B();_(0,qo,2,1,"h2"),oe(1,"async"),l(2,"mat-stepper",6),oe(3,"async"),l(4,"mat-step",7)(5,"form",8)(6,"mat-form-field",9)(7,"mat-label"),u(8,"Felel\u0151s szem\xE9ly neve"),p(),x(9,"input",10),l(10,"mat-autocomplete",11,0),b("optionSelected",function(h){return y(n),C(i.onResponsiblePersonSelected(h.option.value))}),E(12,Ko,2,2,"mat-option",12,T),oe(14,"async"),p()(),x(15,"app-input-text-field",13)(16,"app-input-text-field",14),l(17,"div",15)(18,"span"),u(19,"Irt\xF3szer hozz\xE1ad\xE1sa"),p(),l(20,"button",16),b("click",function(){return y(n),C(i.onAddPesticideClicked())}),l(21,"mat-icon"),u(22,"add_circle_outline"),p()()(),_(23,rn,4,0,"div",17),p()(),l(24,"mat-step",18)(25,"form",8)(26,"div",19)(27,"mat-button-toggle-group",20),b("change",function(){return y(n),C(i.onSelectionChange())}),l(28,"mat-button-toggle",21),u(29,"R\xE1gcs\xE1l\xF3irt\xE1s"),p(),l(30,"mat-button-toggle",22),u(31,"Rovarirt\xE1s"),p(),l(32,"mat-button-toggle",23),u(33,"Egy\xE9b"),p()()(),_(34,an,1,1,"app-input-text-field",24),l(35,"div",19)(36,"mat-button-toggle-group",25),b("change",function(){return y(n),C(i.onSelectionChange())}),l(37,"mat-button-toggle",26),u(38,"Szerz\u0151d\xE9ses"),p(),l(39,"mat-button-toggle",27),u(40,"Eseti"),p(),l(41,"mat-button-toggle",28),u(42,"Garanci\xE1lis"),p()()(),l(43,"mat-form-field",29)(44,"mat-label"),u(45,"V\xE1lassz d\xE1tumot (-t\xF3l, -ig) az ikonnal"),p(),l(46,"mat-date-range-input",30),x(47,"input",31,1)(49,"input",32,2),p(),x(51,"mat-datepicker-toggle",33),l(52,"mat-date-range-picker",34,3),b("closed",function(){y(n);let h=R(48),z=R(50);return C(i.onDateRangeClosed(h,z))}),p(),_(54,sn,2,0,"mat-error")(55,ln,2,0,"mat-error"),p(),x(56,"app-input-text-field",35)(57,"app-input-text-field",36),p()(),l(58,"mat-step"),_(59,pn,1,0,"ng-template",37),l(60,"button",38),b("click",function(){return y(n),C(i.submitForms())}),u(61," Munkalap \xE9s munkaigazol\xE1s let\xF6lt\xE9se "),p()()()}if(t&2){let n,r=R(11),h=R(53);f((n=ne(1,20,i.company$))?0:-1,n),a(2),m("orientation",ne(3,22,i.stepperOrientation)),a(2),m("stepControl",i.workProofForm),a(),m("formGroup",i.workProofForm),a(4),m("formControl",i.responsiblePerson)("matAutocomplete",r),a(),m("displayWith",i.displayFnResponsiblePerson),a(2),A(ne(14,24,i.filteredResponsiblePersons)),a(3),m("form",i.workProofForm),a(),m("form",i.workProofForm),a(7),f(i.onAddPesticide?23:-1),a(),m("stepControl",i.workPaperForm),a(),m("formGroup",i.workPaperForm),a(9),f(i.containsOther?34:-1),a(12),m("rangePicker",h),a(5),m("for",h),a(3),f(i.workStartDate.hasError("matStartDateInvalid")?54:-1),a(),f(i.workEndDate.hasError("matEndDateInvalid")?55:-1),a(),m("form",i.workPaperForm),a(),m("form",i.workPaperForm),a(3),m("disabled",!i.workProofForm.valid||!i.workPaperForm.valid)}},dependencies:[yt,bt,hi,ui,pi,ci,di,Nt,Ft,Ot,Et,At,Vt,It,Tt,zt,Dt,Rt,fi,_i,Yi,Ki,Ie,Ke,gi,Fe,Ae,vi,li,si,ri,Ci,bi,yi,Mi,xi,ki,wi,Pi,Oi,Di,eo,Ze,ue,Je,Vi,Ni,Wi,Bi],styles:[".container[_ngcontent-%COMP%]{width:900px;padding:20px;margin:20px;background-color:#fff;border-radius:10px;box-shadow:0 0 10px #0000001a}.container[_ngcontent-%COMP%]   .autocomplete-container[_ngcontent-%COMP%]{width:100%}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:400px;padding:20px;margin:20px;background-color:#fff;border-radius:10px;box-shadow:0 0 10px #0000001a}.toggleGroupContainer[_ngcontent-%COMP%], .date-picker[_ngcontent-%COMP%]{margin:0 0 20px;width:400px;display:flex;justify-content:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 0 16px 16px}.checkbox-container[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-right:20px}.sub-checkbox-container[_ngcontent-%COMP%]{padding:16px 0 16px 16px}.sub-checkbox-container[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-right:20px}.add-pesticide-container[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px}"]})}}return o})();export{Ca as WorkProofComponent};
