import{a as D,g as $,o as k,p as I}from"./chunk-TMI2L7TV.js";import{c as L}from"./chunk-DFB7EGM7.js";import{g as O,k as G,l as q,n as z,o as T,s as A}from"./chunk-DERFXW54.js";import{d as t,h as P,k as F,m as M,r as v,s as N,t as w}from"./chunk-HBLQJYI7.js";import{f as B,g as E}from"./chunk-ACJFTGJR.js";import"./chunk-VB5AKFTQ.js";import{a as g}from"./chunk-AUOK72YZ.js";import"./chunk-4ZDK5ED3.js";import{I as S,P as x,Q as _,h as f,t as b}from"./chunk-GAFZRVCH.js";import{Eb as y,Ec as h,O as d,Sb as o,bc as s,cc as a,dc as u,lc as C,sa as m,sb as n,wc as c}from"./chunk-32QSKDGA.js";var se=(()=>{class l{constructor(){this.formBuilder=m(v),this.store=m(S),this.actions$=m(x),this.router=m(b),this.extraSiteList=[{showFields:!1}]}ngOnInit(){this.initializeForms()}initializeForms(){this.newCompanyForm=this.formBuilder.group({companyName:["",[t.required,t.pattern(/^[A-ZÄÁÉÚŐÓÜÖÍ][a-zäáéúőóüöíß]*(-[A-ZÄÁÉÚŐÓÜÖÍ][a-zäáéúőóüöíß]*)*( [A-ZÄÁÉÚŐÓÜÖÍ][a-zäáéúőóüöíß]*(-[A-ZÄÁÉÚŐÓÜÖÍ][a-zäáéúőóüöíß]*)*)*( (Kft\.|GmbH))?$/)]],companyTaxNumber:["",[t.required]],companyCountry:["",[t.required]],companyProvince:[""],companyPostalCode:["",[t.required]],companySettlement:["",[t.required]],companyStreet:["",[t.required]],companyStreetNumber:["",[t.required]],companyEmail:[""],companyPhoneNumber:[""]})}get companyName(){return this.newCompanyForm.get("companyName")}get companyTaxNumber(){return this.newCompanyForm.get("companyTaxNumber")}get companyCountry(){return this.newCompanyForm.get("companyCountry")}get companyProvince(){return this.newCompanyForm.get("companyProvince")}get companyPostalCode(){return this.newCompanyForm.get("companyPostalCode")}get companySettlement(){return this.newCompanyForm.get("companySettlement")}get companyStreet(){return this.newCompanyForm.get("companyStreet")}get companyStreetNumber(){return this.newCompanyForm.get("companyStreetNumber")}get companyEmail(){return this.newCompanyForm.get("companyEmail")}get companyPhoneNumber(){return this.newCompanyForm.get("companyPhoneNumber")}get companyContacts(){return this.newCompanyForm.get("companyContacts")}getContactFormGroup(e){return this.companyContacts.at(e)}getContactNameControl(e){return this.getContactFormGroup(e).get("contactName")}getContactPhoneNumberControl(e){return this.getContactFormGroup(e).get("contactPhoneNumber")}getContactEmailControl(e){return this.getContactFormGroup(e).get("contactEmail")}get companyBillings(){return this.newCompanyForm.get("companyBillings")}getBillingFormGroup(e){return this.companyBillings.at(e)}getBillingCompanyNameControl(e){return this.getBillingFormGroup(e).get("billingCompanyName")}getBillingTaxNumberControl(e){return this.getBillingFormGroup(e).get("billingTaxNumber")}getBillingEmailControl(e){return this.getBillingFormGroup(e).get("billingEmail")}getBillingCountryControl(e){return this.getBillingFormGroup(e).get("billingCountry")}getBillingProvinceControl(e){return this.getBillingFormGroup(e).get("billingProvince")}getBillingPostalCodeControl(e){return this.getBillingFormGroup(e).get("billingPostalCode")}getBillingSettlementControl(e){return this.getBillingFormGroup(e).get("billingSettlement")}getBillingStreetControl(e){return this.getBillingFormGroup(e).get("billingStreet")}getBillingStreetNumberControl(e){return this.getBillingFormGroup(e).get("billingStreetNumber")}get companyPremises(){return this.newCompanyForm.get("companyPremises")}getPremiseFormGroup(e){return this.companyPremises.at(e)}getPremiseCompanyNameControl(e){return this.getPremiseFormGroup(e).get("premiseCompanyName")}getPremiseEmailControl(e){return this.getPremiseFormGroup(e).get("premiseEmail")}getPremisePhoneControl(e){return this.getPremiseFormGroup(e).get("premisePhoneNumber")}getPremiseCountryControl(e){return this.getPremiseFormGroup(e).get("premiseCountry")}getPremiseProvinceControl(e){return this.getPremiseFormGroup(e).get("premiseProvince")}getPremisePostalCodeControl(e){return this.getPremiseFormGroup(e).get("premisePostalCode")}getPremiseSettlementControl(e){return this.getPremiseFormGroup(e).get("premiseSettlement")}getPremiseStreetControl(e){return this.getPremiseFormGroup(e).get("premiseStreet")}getPremiseStreetNumberControl(e){return this.getPremiseFormGroup(e).get("premiseStreetNumber")}createContact(){return this.formBuilder.group({contactName:["Kapcsolattart\xF3 Istv\xE1n",[t.required]],contactPhoneNumber:["+36309731234",[t.required]],contactEmail:["kapcsolat.istvan@ceg.hu",[t.required,t.email]]})}addContact(){this.companyContacts.push(this.createContact())}removeContact(e){this.companyContacts.length>1?this.companyContacts.removeAt(e):alert("You must have at least one contact.")}createBilling(){return this.formBuilder.group({billingCompanyName:["Sz\xE1ml\xE1z\xF3s C\xE9g Kft.",[t.required]],billingTaxNumber:["123456789-2-11",[t.required]],billingEmail:["abc@email.hu",[t.required]],billingCountry:["Magyarorsz\xE1g",[t.required]],billingProvince:["Budapest",[t.required]],billingPostalCode:["1034",[t.required]],billingSettlement:["Budapest",[t.required]],billingStreet:["Z\xE1por utca",[t.required]],billingStreetNumber:["20",[t.required]]})}addBilling(){this.companyBillings.push(this.createBilling())}removeBilling(e){this.companyBillings.length>1?this.companyBillings.removeAt(e):alert("You must have at least one billing.")}createPremise(){return this.formBuilder.group({premiseCompanyName:["Telephely C\xE9g Kft.",[t.required]],premiseEmail:["abc@email.hu",[t.required]],premisePhoneNumber:["+363012345678",[t.required]],premiseCountry:["Magyarorsz\xE1g",[t.required]],premiseProvince:["Budapest",[t.required]],premisePostalCode:["1034",[t.required]],premiseSettlement:["Budapest",[t.required]],premiseStreet:["Z\xE1por utca",[t.required]],premiseStreetNumber:["20",[t.required]]})}addPremise(){this.companyPremises.push(this.createPremise())}removePremise(e){this.companyPremises.length>1?this.companyPremises.removeAt(e):alert("You must have at least one premise.")}formatCurrentDate(){let e=new Date,i=e.getFullYear(),r=e.toLocaleString("hu-HU",{month:"long"}),p=e.getDate();return`${i}. ${r} h\xF3 ${p}. nap`}formatDate(e){let i=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),p=String(e.getDate()).padStart(2,"0");return`${i}. ${r}. ${p}.`}addExtraSite(){this.extraSiteList.push({showFields:!1})}showFields(e){this.extraSiteList[e].showFields=!this.extraSiteList[e].showFields}submitForm(){if(this.newCompanyForm.valid){let e={companyName:this.companyName.value,companyTaxNumber:this.companyTaxNumber.value,companyCountry:this.companyCountry.value,companyProvince:this.companyProvince.value,companyPostalCode:this.companyPostalCode.value,companySettlement:this.companySettlement.value,companyStreet:this.companyStreet.value,companyStreetNumber:this.companyStreetNumber.value,companyEmail:this.companyEmail.value,companyPhoneNumber:this.companyPhoneNumber.value};this.store.dispatch(g.create({companyToCreate:e})),this.actions$.pipe(_(g.creationSuccess),d(1)).subscribe(i=>{this.router.navigate([`/company/${i.createdCompany.internalId}`])})}}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275cmp=y({type:l,selectors:[["app-new-company"]],features:[h([I(),{provide:D,useValue:"hu-HU"}])],decls:20,vars:12,consts:[[3,"formGroup"],[1,"form-container"],[1,"first-first-container"],["label","C\xE9gn\xE9v","controlName","companyName",3,"form"],["label","Ad\xF3sz\xE1m","controlName","companyTaxNumber",3,"form"],["label","Orsz\xE1g","controlName","companyCountry",3,"form"],["label","Megye/Tartom\xE1ny","controlName","companyProvince",3,"form"],["label","Ir\xE1ny\xEDt\xF3sz\xE1m","controlName","companyPostalCode",3,"form"],["label","Telep\xFCl\xE9s","controlName","companySettlement",3,"form"],["label","Utca","controlName","companyStreet",3,"form"],["label","H\xE1zsz\xE1m","controlName","companyStreetNumber",3,"form"],["label","E-mail","controlName","companyEmail",3,"form"],["label","Telefonsz\xE1m","controlName","companyPhoneNumber",3,"form"],[1,"bottom-submit-container"],["mat-raised-button","","color","primary","type","submit",3,"click","disabled"]],template:function(i,r){i&1&&(s(0,"form",0)(1,"div",1)(2,"div",2)(3,"h2"),c(4,"F\u0151bb adatok"),a(),u(5,"app-input-text-field",3)(6,"app-input-text-field",4),s(7,"h2"),c(8,"Sz\xE9khely"),a(),u(9,"app-input-text-field",5)(10,"app-input-text-field",6)(11,"app-input-text-field",7)(12,"app-input-text-field",8)(13,"app-input-text-field",9)(14,"app-input-text-field",10)(15,"app-input-text-field",11)(16,"app-input-text-field",12),a(),s(17,"div",13)(18,"button",14),C("click",function(){return r.submitForm()}),c(19," \xDAj c\xE9g l\xE9trehoz\xE1sa "),a()()()()),i&2&&(o("formGroup",r.newCompanyForm),n(5),o("form",r.newCompanyForm),n(),o("form",r.newCompanyForm),n(3),o("form",r.newCompanyForm),n(),o("form",r.newCompanyForm),n(),o("form",r.newCompanyForm),n(),o("form",r.newCompanyForm),n(),o("form",r.newCompanyForm),n(),o("form",r.newCompanyForm),n(),o("form",r.newCompanyForm),n(),o("form",r.newCompanyForm),n(2),o("disabled",r.newCompanyForm.invalid))},dependencies:[f,O,N,F,P,w,M,G,q,z,T,E,B,A,$,k,L],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-container[_ngcontent-%COMP%]   .first-row-container[_ngcontent-%COMP%]{display:flex}.form-container[_ngcontent-%COMP%]   .first-row-container[_ngcontent-%COMP%]   .first-first-container[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;margin-right:40px}.form-container[_ngcontent-%COMP%]   .first-row-container[_ngcontent-%COMP%]   .first-second-container[_ngcontent-%COMP%]{box-sizing:border-box;width:100%}.form-container[_ngcontent-%COMP%]   .first-row-container[_ngcontent-%COMP%]   .first-third-container[_ngcontent-%COMP%]{margin-left:40px;box-sizing:border-box;width:100%}.form-container[_ngcontent-%COMP%]   .second-row-container[_ngcontent-%COMP%]{display:flex}.form-container[_ngcontent-%COMP%]   .second-row-container[_ngcontent-%COMP%]   .second-first-container[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;margin-right:40px}.form-container[_ngcontent-%COMP%]   .second-row-container[_ngcontent-%COMP%]   .second-second-container[_ngcontent-%COMP%]{box-sizing:border-box;width:100%}.form-container[_ngcontent-%COMP%]   .second-row-container[_ngcontent-%COMP%]   .second-third-container[_ngcontent-%COMP%]{margin-left:40px;box-sizing:border-box;width:100%}.form-container[_ngcontent-%COMP%]   .third-row-container[_ngcontent-%COMP%]{display:flex}.form-container[_ngcontent-%COMP%]   .third-row-container[_ngcontent-%COMP%]   .third-first-container[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;margin-right:40px}.form-container[_ngcontent-%COMP%]   .third-row-container[_ngcontent-%COMP%]   .third-second-container[_ngcontent-%COMP%]{box-sizing:border-box;width:100%}.form-container[_ngcontent-%COMP%]   .third-row-container[_ngcontent-%COMP%]   .third-third-container[_ngcontent-%COMP%]{margin-left:40px;box-sizing:border-box;width:100%}.addExtra[_ngcontent-%COMP%], .removeExtra[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:16px}.addExtraSite[_ngcontent-%COMP%]{display:flex;align-items:center}mat-divider[_ngcontent-%COMP%]{margin:16px 0}"]})}}return l})();export{se as NewCompanyComponent};
