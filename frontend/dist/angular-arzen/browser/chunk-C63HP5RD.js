import{a as w}from"./chunk-U46X7I6M.js";import{a as Q,b as U}from"./chunk-HLLI7ISJ.js";import{b as Y}from"./chunk-6FC2SBBV.js";import{b as W,c as X}from"./chunk-DFB7EGM7.js";import{g as G,k as H,l as j,n as J,o as K,s as L}from"./chunk-DERFXW54.js";import{d as l,h as E,j as P,k as z,m as A,r as I,s as R,t as V}from"./chunk-HBLQJYI7.js";import{f as $,g as q}from"./chunk-ACJFTGJR.js";import"./chunk-VB5AKFTQ.js";import"./chunk-4ZDK5ED3.js";import{I as B,P as O,Q as D,h as M,t as N}from"./chunk-GAFZRVCH.js";import{$b as y,Ea as f,Eb as k,Fa as _,Kb as T,O as C,Sb as r,Yb as g,_b as v,ac as F,bc as c,cc as s,dc as b,hc as S,lc as u,mc as a,sa as m,sb as n,wc as d,yc as x}from"./chunk-32QSKDGA.js";function Z(o,h){if(o&1){let e=S();c(0,"mat-checkbox",4),u("change",function(){let t=f(e).$implicit,p=a(2);return _(p.toggleSubtype(t))}),d(1),s()}if(o&2){let e=h.$implicit,i=a(2);r("checked",i.pesticideSubtypes.value.includes(e)),n(),x(" ",e," ")}}function ee(o,h){if(o&1&&(b(0,"mat-divider"),c(1,"div",12),y(2,Z,2,2,"mat-checkbox",13,v),s()),o&2){let e=a();n(2),F(e.insecticides)}}function te(o,h){if(o&1){let e=S();c(0,"mat-checkbox",4),u("change",function(){let t=f(e).$implicit,p=a(2);return _(p.toggleSubtype(t))}),d(1),s()}if(o&2){let e=h.$implicit,i=a(2);r("checked",i.pesticideSubtypes.value.includes(e)),n(),x(" ",e," ")}}function ie(o,h){if(o&1&&(b(0,"mat-divider"),c(1,"div",12),y(2,te,2,2,"mat-checkbox",13,v),s()),o&2){let e=a();n(2),F(e.rodenticides)}}var ke=(()=>{class o{constructor(){this.formBuilder=m(I),this.store=m(B),this.actions$=m(O),this.router=m(N),this.pesticideService=m(Y),this.insecticides=[],this.rodenticides=[]}ngOnInit(){this.initializeForm()}initializeForm(){this.insecticides=this.pesticideService.insecticides,this.rodenticides=this.pesticideService.rodenticides,this.newPesticideForm=this.formBuilder.group({pesticideName:["",[l.required]],pesticideType:["",[l.required]],pesticideSubtypes:this.formBuilder.array([],[l.required]),pesticideSubstance1:["",[l.required]],pesticideSubstance2:[""],pesticideSubstance3:[""],pesticideSubstance4:[""],pesticideAntidote1:["",[l.required]],pesticideAntidote2:[""]})}get pesticideName(){return this.newPesticideForm.get("pesticideName")}get pesticideType(){return this.newPesticideForm.get("pesticideType")}get pesticideSubtypes(){return this.newPesticideForm.get("pesticideSubtypes")}get pesticideSubstance1(){return this.newPesticideForm.get("pesticideSubstance1")}get pesticideSubstance2(){return this.newPesticideForm.get("pesticideSubstance2")}get pesticideSubstance3(){return this.newPesticideForm.get("pesticideSubstance3")}get pesticideSubstance4(){return this.newPesticideForm.get("pesticideSubstance4")}get pesticideAntidote1(){return this.newPesticideForm.get("pesticideAntidote1")}get pesticideAntidote2(){return this.newPesticideForm.get("pesticideAntidote2")}selectPesticideType(e){this.pesticideType.value===e?(this.pesticideType.setValue(""),this.pesticideSubtypes.clear()):(this.pesticideType.setValue(e),this.pesticideSubtypes.clear())}toggleSubtype(e){let i=this.pesticideSubtypes,t=i.value.indexOf(e);t===-1?i.push(new P(e)):i.removeAt(t)}addSubtype(e){let i=this.pesticideSubtypes;i.value.includes(e)||i.push(new P(e))}submitForm(){if(this.newPesticideForm.valid){console.log("this.newPesticideForm: ",this.newPesticideForm.value);let e={pesticideName:this.pesticideName.value,pesticideType:this.pesticideType.value,pesticideSubtypes:this.pesticideSubtypes.value,pesticideSubstance1:this.pesticideSubstance1.value,pesticideSubstance2:this.pesticideSubstance2.value,pesticideSubstance3:this.pesticideSubstance3.value,pesticideSubstance4:this.pesticideSubstance4.value,pesticideAntidote1:this.pesticideAntidote1.value,pesticideAntidote2:this.pesticideAntidote2.value};this.store.dispatch(w.create({pesticideToCreate:e})),this.actions$.pipe(D(w.creationSuccess),C(1)).subscribe(i=>{this.router.navigate([`/pesticide/${i.createdPesticide.internalId}`])})}}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=k({type:o,selectors:[["app-new-pesticide"]],decls:20,vars:13,consts:[[3,"formGroup"],[1,"form-container"],["label","Irt\xF3szer neve","controlName","pesticideName",3,"form"],[1,"checkbox-container"],["labelPosition","before",3,"change","checked"],["label","Hat\xF3anyag","controlName","pesticideSubstance1",3,"form"],["label","Hat\xF3anyag #2","controlName","pesticideSubstance2",3,"form"],["label","Hat\xF3anyag #3","controlName","pesticideSubstance3",3,"form"],["label","Hat\xF3anyag #4","controlName","pesticideSubstance4",3,"form"],["label","Ellenszer","controlName","pesticideAntidote1",3,"form"],["label","Ellenszer #2","controlName","pesticideAntidote2",3,"form"],["mat-raised-button","","color","primary","type","submit",3,"click","disabled"],[1,"sub-checkbox-container"],["labelPosition","before",3,"checked"]],template:function(i,t){i&1&&(c(0,"form",0)(1,"div",1)(2,"h2"),d(3,"\xDAj irt\xF3szer l\xE9trehoz\xE1sa"),s(),b(4,"app-input-text-field",2),c(5,"div",3)(6,"mat-checkbox",4),u("change",function(){return t.selectPesticideType("R\xE1gcs\xE1l\xF3irt\xF3szer")}),d(7," R\xE1gcs\xE1l\xF3irt\xF3szer "),s(),c(8,"mat-checkbox",4),u("change",function(){return t.selectPesticideType("Rovarirt\xF3szer")}),d(9," Rovarirt\xF3szer "),s()(),T(10,ee,4,0)(11,ie,4,0),b(12,"app-input-text-field",5)(13,"app-input-text-field",6)(14,"app-input-text-field",7)(15,"app-input-text-field",8)(16,"app-input-text-field",9)(17,"app-input-text-field",10),c(18,"button",11),u("click",function(){return t.submitForm()}),d(19," \xDAj irt\xF3szer l\xE9trehoz\xE1sa "),s()()()),i&2&&(r("formGroup",t.newPesticideForm),n(4),r("form",t.newPesticideForm),n(2),r("checked",t.pesticideType.value==="R\xE1gcs\xE1l\xF3irt\xF3szer"),n(2),r("checked",t.pesticideType.value==="Rovarirt\xF3szer"),n(2),g(t.pesticideType.value==="Rovarirt\xF3szer"?10:-1),n(),g(t.pesticideType.value==="R\xE1gcs\xE1l\xF3irt\xF3szer"?11:-1),n(),r("form",t.newPesticideForm),n(),r("form",t.newPesticideForm),n(),r("form",t.newPesticideForm),n(),r("form",t.newPesticideForm),n(),r("form",t.newPesticideForm),n(),r("form",t.newPesticideForm),n(),r("disabled",t.newPesticideForm.invalid))},dependencies:[M,G,R,z,E,V,A,H,j,J,K,q,$,L,U,Q,X,W],styles:[".checkbox-container[_ngcontent-%COMP%]{padding:0 0 16px 16px}.checkbox-container[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-right:20px}.sub-checkbox-container[_ngcontent-%COMP%]{padding:16px 0 16px 16px}.sub-checkbox-container[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-right:20px}"]})}}return o})();export{ke as NewPesticideComponent};
